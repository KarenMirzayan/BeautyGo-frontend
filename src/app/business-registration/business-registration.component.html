<h2 class="general-title montserrat-test">Регистрация</h2>
<div class="container">
  <div class="registration">
    <!-- Success/Error Messages -->
    <div *ngIf="successMessage" class="success">{{ successMessage }}</div>
    <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>

    <form [formGroup]="businessForm" (ngSubmit)="submitForm()">
      <div class="reg-section">
        <h3 class="section-name inter-common">О себе</h3>
        <div class="input-groups">
          <div class="input-group">
            <label class="inter-common" for="name">Имя:</label>
            <input id="name" type="text" placeholder="Введите имя" class="thin-border" formControlName="ownerName">
            <div *ngIf="businessForm.get('ownerName')?.invalid && businessForm.get('ownerName')?.touched" class="error">
              Имя обязательно
            </div>
          </div>
          <div class="input-group">
            <label class="inter-common" for="surname">Фамилия:</label>
            <input id="surname" type="text" placeholder="Введите фамилию" class="thin-border" formControlName="ownerSurname">
            <div *ngIf="businessForm.get('ownerSurname')?.invalid && businessForm.get('ownerSurname')?.touched" class="error">
              Фамилия обязательна
            </div>
          </div>
          <div class="input-group">
            <label class="inter-common" for="phone">Телефон:</label>
            <input id="phone" type="text" placeholder="+7(777) 123 12 12" class="thin-border" formControlName="phone"
                   prefix="+7" [instantPrefix]="true" mask="(000) 000 00 00">
            <div *ngIf="businessForm.get('phone')?.invalid && businessForm.get('phone')?.touched" class="error">
              Телефон обязателен
            </div>
          </div>
        </div>
      </div>
      <div class="reg-section">
        <h3 class="section-name inter-common">Расположение</h3>
        <div class="input-groups">
          <div class="input-group">
            <label class="inter-common" for="city">Город:</label>
            <input id="city" type="text" placeholder="Введите город" class="thin-border" formControlName="city">
            <div *ngIf="businessForm.get('city')?.invalid && businessForm.get('city')?.touched" class="error">
              Город обязателен
            </div>
          </div>
          <div class="input-group">
            <label class="inter-common" for="country">Страна:</label>
            <input id="country" type="text" placeholder="Введите страну" class="thin-border" formControlName="country">
            <div *ngIf="businessForm.get('country')?.invalid && businessForm.get('country')?.touched" class="error">
              Страна обязательна
            </div>
          </div>
          <div class="input-group">
            <label class="inter-common" for="address">Адрес:</label>
            <input id="address" type="text" placeholder="Введите адрес" class="thin-border" formControlName="address">
            <div *ngIf="businessForm.get('address')?.invalid && businessForm.get('address')?.touched" class="error">
              Адрес обязателен
            </div>
          </div>
        </div>
      </div>
      <div class="reg-section">
        <h3 class="section-name inter-common">О компании</h3>
        <div class="input-groups">
          <div class="input-group">
            <label class="inter-common" for="company-name">Название:</label>
            <input id="company-name" type="text" placeholder="Введите название" class="thin-border" formControlName="businessName">
            <div *ngIf="businessForm.get('businessName')?.invalid && businessForm.get('businessName')?.touched" class="error">
              Название обязательно
            </div>
          </div>
          <div class="input-group">
            <label class="inter-common">Тип компании:</label>
            <app-dropdown
              [items]="categories"
              [defaultText]="'Выберите категорию'"
              (selectedValue)="onSelectionChange($event)">
            </app-dropdown>
            <div *ngIf="businessForm.get('topic')?.invalid && businessForm.get('topic')?.touched" class="error">
              Категория обязательна
            </div>
          </div>
          <div class="input-group">
            <label class="inter-common">Количество мастеров:</label>
            <div class="radio-buttons">
              <div class="radio-button">
                <input type="radio" formControlName="masterCount" value="1-5 мастеров" /> 1-5 мастеров
              </div>
              <div class="radio-button">
                <input type="radio" formControlName="masterCount" value="Более 5 мастеров" /> Более 5 мастеров
              </div>
            </div>
            <div *ngIf="businessForm.get('masterCount')?.invalid && businessForm.get('masterCount')?.touched" class="error">
              Выберите количество мастеров
            </div>
          </div>
          <div class="input-group">
            <label class="inter-common" for="social">Сайт/социальные сети:</label>
            <input id="social" type="text" placeholder="Вставьте ссылки" class="thin-border" formControlName="websites">
          </div>
        </div>
      </div>
      <div class="textarea">
        <label class="inter-common">Краткое описание бизнеса:</label>
        <textarea formControlName="description" placeholder="Введите описание" class="thin-border"></textarea>
      </div>
      <button type="submit" class="btn-main" [disabled]="businessForm.invalid">Отправить заявку</button>
    </form>
  </div>
</div>
